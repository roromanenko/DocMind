@import url('https://fonts.googleapis.com/css2?family=Bigelow+Rules&family=Inter:wght@200;400&display=swap');

/* ---------- Палитра и базовые переменные ---------- */
:root {
  --bg:             #000;
  --panel-bg:       #010806;
  --panel-line:     #1a1a1a;
  --text:           #F2F2F2;
  --text-muted:     rgba(242, 242, 242, .4);
  --input-bg:       #191F1E;
  --scroll:         #4a4a4a;
  --scroll-hover:   #6a6a6a;
}

/* ---------- Общий стиль ---------- */
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:'Inter',sans-serif;
}
#app-container{display:flex;height:100vh;}
#chat-container{flex:1;display:flex;flex-direction:column;}
#chat-box{flex:1;padding:20px;overflow-y:auto;}

/* ---------- Шапка ---------- */
#header{
  flex-shrink:0;
  display:flex;
  align-items:center;
  justify-content:space-between;
  height:120px;
  padding:0 20px;
  background:var(--bg);
  border-bottom:1px solid var(--panel-line);
}
#header h1{
  margin:0;
  font:48px 'Bigelow Rules',cursive;
  -webkit-text-stroke:.2px var(--bg);
}
#profile-icon{cursor:pointer;color:var(--text);}

/* ---------- Поле ввода ---------- */
#input-container{
  flex-shrink:0;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:20px 320px 40px;
}
.message-input-area{
  display:flex;
  flex-direction:column;
  width:100%;
  padding:20px;
  background:var(--input-bg);
  border-radius:12px;
  box-sizing:border-box;
}
#user-input{
  flex:1;
  min-height:44px;
  max-height:150px;
  padding:10px;
  background:transparent;
  border:none;
  outline:none;
  resize:none;
  overflow-y:auto;
  color:var(--text);
  font:400 16px 'Inter',sans-serif;
}
#user-input::placeholder{
  color:var(--text-muted);
  font:200 20px 'Inter',sans-serif;
}
/* блок с кнопками под полем */
.input-controls{display:flex;justify-content:space-between;align-items:center;padding-top:5px;}
.controls-left,.controls-right{display:flex;align-items:center;gap:10px;}
.control-btn{
  display:flex;align-items:center;justify-content:center;
  padding:5px;
  background:transparent;border:none;cursor:pointer;
}

/* ---------- История / боковая панель ---------- */
#history-panel{
  width:320px;
  display:flex;
  flex-direction:column;
  padding:20px;
  box-sizing:border-box;
  background:var(--panel-bg);
  border-right:1px solid var(--panel-line);
  color:var(--text);
}
#history-panel h2{
  margin:20px 0 0;
  padding-left:15px;
  letter-spacing:1.5px;
  font:200 16px 'Inter',sans-serif;
  color:var(--text-muted);
}
.panel-options{display:flex;flex-direction:column;padding-bottom:20px;border-bottom:1px solid var(--panel-line);}
.panel-button{
  display:flex;align-items:center;
  padding:10px 15px;
  border-radius:8px;
  background:transparent;border:none;cursor:pointer;
  color:var(--text);
  font:400 16px 'Inter',sans-serif;
  text-align:left;
  transition:background .2s;
}
.panel-button:hover{background:var(--panel-line);}
.panel-button svg{margin-right:15px;stroke:#8A8A8A;}

/* ---------- Scrollbars (chrome-like) ---------- */
#user-input::-webkit-scrollbar,
#chat-box::-webkit-scrollbar{width:8px;}
#user-input::-webkit-scrollbar-track,
#chat-box::-webkit-scrollbar-track{background:transparent;}
#user-input::-webkit-scrollbar-thumb,
#chat-box::-webkit-scrollbar-thumb{
  background:var(--scroll);
  border-radius:10px;
  border:2px solid var(--input-bg);
}
#user-input::-webkit-scrollbar-thumb:hover,
#chat-box::-webkit-scrollbar-thumb:hover{background:var(--scroll-hover);}

/* ---------- Фоновый паттерн ---------- */
body::before{
  content:'';
  position:absolute;
  inset:0;
  z-index:-1;
  background:url('/assets/BGPattern.svg') repeat;
  opacity:.22;
}

/* ---------- Список чатов ---------- */
#chat-list-container {
    flex: 1;
    overflow-y: auto;
    padding-right: 5px;
    margin-top: 20px;
}

#chat-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.chat-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1px solid transparent;
    position: relative;
}

.chat-item:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
}

.chat-item.active {
    background: rgba(74, 144, 226, 0.3);
    border-color: #4a90e2;
}

.chat-item-content {
    flex: 1;
    min-width: 0;
}

.chat-item-name {
    color: #ffffff;
    font-size: 14px;
    font-weight: 500;
    margin-bottom: 4px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.chat-item-info {
    color: rgba(255, 255, 255, 0.6);
    font-size: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.chat-item-date {
    font-size: 11px;
}

.chat-item-docs {
    display: flex;
    align-items: center;
    gap: 4px;
}

.chat-item-actions {
    display: flex;
    align-items: center;
    gap: 4px;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.chat-item:hover .chat-item-actions {
    opacity: 1;
}

.chat-action-btn {
    background: none;
    border: none;
    color: rgba(255, 255, 255, 0.6);
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.chat-action-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    color: #ffffff;
}

.chat-action-btn.delete-btn:hover {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.chat-action-btn svg {
    width: 16px;
    height: 16px;
}

/* Empty state */
.chat-list-empty {
    text-align: center;
    padding: 40px 20px;
    color: rgba(255, 255, 255, 0.5);
}

.chat-list-empty svg {
    width: 48px;
    height: 48px;
    margin-bottom: 16px;
    opacity: 0.3;
}

.chat-list-empty h3 {
    font-size: 16px;
    margin-bottom: 8px;
    color: rgba(255, 255, 255, 0.7);
}

.chat-list-empty p {
    font-size: 14px;
    line-height: 1.4;
}

/* Loading state */
.chat-list-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 40px 20px;
    color: rgba(255, 255, 255, 0.6);
}

.chat-list-loading svg {
    width: 24px;
    height: 24px;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Scrollbar для списка чатов */
#chat-list-container::-webkit-scrollbar {
    width: 6px;
}

#chat-list-container::-webkit-scrollbar-track {
    background: transparent;
}

#chat-list-container::-webkit-scrollbar-thumb {
    background: var(--scroll);
    border-radius: 10px;
}

#chat-list-container::-webkit-scrollbar-thumb:hover {
    background: var(--scroll-hover);
}
